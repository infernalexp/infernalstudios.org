/* eslint-disable no-undef */

const mods = [
  {
    name: "Infernal Expansion",
    urlIdentifier: "infernalexpansion",
    logo: "/img/infernal-expansion-logo.webp",
  },
  {
    name: "Mining Master",
    urlIdentifier: "miningmaster",
    logo: "/img/mining-master-logo.webp",
  },
  {
    name: "Food Effects",
    urlIdentifier: "foodeffects",
    logo: "/img/food-effects-logo.webp",
    customImgStyle: "width: 22vw;",
  },
  {
    name: "Second Chance",
    urlIdentifier: "secondchanceforge",
    logo: "/img/second-chance-logo.webp",
  },
  {
    name: "Neko's Enchanted Books",
    urlIdentifier: "nebs",
    logo: "/img/nekos-enchanted-books-logo.webp",
  },
];

for (let i = 0; i < mods.length; i++) {
  new Image().src = mods[i].logo;
}

window.addEventListener("DOMContentLoaded", () => {
  const modContainer = document.getElementById("mod-container");
  modContainer.innerHTML = "<!-- The following code inside this element is generated by a script -->";

  /** @type {HTMLTableRowElement} */
  let modTable;

  for (let i = 0; i < mods.length; i++) {
    if (i % 3 === 0) {
      const tableElement = document.createElement("table");
      modTable = tableElement.appendChild(document.createElement("tr"));
      modContainer.appendChild(tableElement);
    }

    const mod = mods[i];
    const modElement = document.createElement("td");
    const imgStyle = "customImgStyle" in mod ? `style="${mod.customImgStyle}"` : "";
    modElement.innerHTML = `
      <h4>
        <img alt="${mod.name} Logo" src="${mod.logo}" class="mod-logo" ${imgStyle}/>
      </h4>
      <h4>
        <a href="/${mod.urlIdentifier}/curseforge">CurseForge</a>
        &nbsp;&bull;&nbsp;
        <a href="/${mod.urlIdentifier}/modrinth">Modrinth</a>
        &nbsp;&bull;&nbsp;
        <a href="/${mod.urlIdentifier}/github">GitHub</a>
      </h4>
    `;
    modTable.appendChild(modElement);
  }
});
